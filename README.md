# üé≠ Telegram Visual Novel ‚Äî –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –ß—Ç–æ —ç—Ç–æ

–î–≤–∏–∂–æ–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –Ω–æ–≤–µ–ª–ª—ã –¥–ª—è Telegram Mini App.
–ì–æ—Ç–æ–≤–∞—è –æ–±–æ–ª–æ—á–∫–∞: —Ç–∏—Ç—É–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω ‚Üí –≤—ã–±–æ—Ä –≥–ª–∞–≤ ‚Üí –∏–≥—Ä–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
–ò—Å—Ç–æ—Ä–∏–∏ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî –¥–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã–µ –±–µ–∑ –ø—Ä–∞–≤–∫–∏ –¥–≤–∏–∂–∫–∞.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ù—É–∂–µ–Ω Node.js (—Å–∫–∞—á–∞–π —Å https://nodejs.org –µ—Å–ª–∏ –Ω–µ—Ç)
cd tg-novel
npm install
```

### 2. –ó–∞–ø—É—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:5173` ‚Äî –º–æ–∂–µ—à—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

### 3. –°–æ–∑–¥–∞–π –±–æ—Ç–∞ –≤ Telegram

1. –û—Ç–∫—Ä–æ–π @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å `/newbot`
3. –î–∞–π –∏–º—è –∏ username
4. –°–æ—Ö—Ä–∞–Ω–∏ —Ç–æ–∫–µ–Ω (–ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–∑–∂–µ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π)

### 4. –ó–∞–¥–µ–ø–ª–æ–π –Ω–∞ Vercel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ Vercel CLI
npm install -g vercel

# –°–æ–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç
npm run build

# –ó–∞–¥–µ–ø–ª–æ–π (–ø–µ—Ä–≤—ã–π —Ä–∞–∑ –ø–æ–ø—Ä–æ—Å–∏—Ç –ª–æ–≥–∏–Ω)
vercel --prod
```

Vercel –¥–∞—Å—Ç —Ç–µ–±–µ URL —Ç–∏–ø–∞ `https://tg-novel-xxxx.vercel.app`

### 5. –ü–æ–¥–∫–ª—é—á–∏ –∫ –±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π @BotFather
2. –û—Ç–ø—Ä–∞–≤—å `/newapp`
3. –í—ã–±–µ—Ä–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞
4. –í—Å—Ç–∞–≤—å URL –æ—Ç Vercel
5. –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –±–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–≤–æ—é –∏–≥—Ä—É

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tg-novel/
‚îú‚îÄ‚îÄ index.html              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–Ω–µ —Ç—Ä–æ–≥–∞–π)
‚îú‚îÄ‚îÄ package.json            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ vite.config.js          # –°–±–æ—Ä—â–∏–∫ (–Ω–µ —Ç—Ä–æ–≥–∞–π)
‚îÇ
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ main.jsx            # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è React (–Ω–µ —Ç—Ä–æ–≥–∞–π)
    ‚îú‚îÄ‚îÄ App.jsx             # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: Telegram SDK, —Ä–æ—É—Ç–∏–Ω–≥, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    ‚îÇ
    ‚îú‚îÄ‚îÄ screens/
    ‚îÇ   ‚îú‚îÄ‚îÄ TitleScreen.jsx # –¢–∏—Ç—É–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω
    ‚îÇ   ‚îî‚îÄ‚îÄ MenuScreen.jsx  # –í—ã–±–æ—Ä –≥–ª–∞–≤—ã
    ‚îÇ
    ‚îú‚îÄ‚îÄ engine/
    ‚îÇ   ‚îî‚îÄ‚îÄ NovelEngine.jsx # –î–≤–∏–∂–æ–∫ –Ω–æ–≤–µ–ª–ª—ã (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –Ω–µ —Ç—Ä–æ–≥–∞–π)
    ‚îÇ
    ‚îú‚îÄ‚îÄ stories/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.js        # –†–µ–µ—Å—Ç—Ä –∏—Å—Ç–æ—Ä–∏–π (–¥–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã–µ —Å—é–¥–∞)
    ‚îÇ   ‚îî‚îÄ‚îÄ demo.js         # –î–µ–º–æ-–∏—Å—Ç–æ—Ä–∏—è "–î–æ–∂–¥—å –∏ –∫–æ—Ñ–µ"
    ‚îÇ
    ‚îî‚îÄ‚îÄ assets/             # –ö–∞—Ä—Ç–∏–Ω–∫–∏, –º—É–∑—ã–∫–∞ (–¥–æ–±–∞–≤–∏—à—å –ø–æ—Ç–æ–º)
        ‚îú‚îÄ‚îÄ characters/     # –°–ø—Ä–∞–π—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
        ‚îú‚îÄ‚îÄ bg/             # –§–æ–Ω—ã
        ‚îî‚îÄ‚îÄ music/          # –ú—É–∑—ã–∫–∞
```

---

## üìñ –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∏—Å—Ç–æ—Ä–∏—é

### 1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/stories/chapter2.js`

–°–∫–æ–ø–∏—Ä—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ `demo.js` –∏ –∏–∑–º–µ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```javascript
export const chapter2Story = {
  characters: {
    // —Ç–≤–æ–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
  },
  backgrounds: {
    // —Ç–≤–æ–∏ —Ñ–æ–Ω—ã
  },
  scenes: {
    // —Ç–≤–æ–∏ —Å—Ü–µ–Ω—ã
  },
  startScene: 'first_scene_id',
}
```

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –≤ `src/stories/index.js`

```javascript
import { chapter2Story } from './chapter2.js'

// –î–æ–±–∞–≤—å –≤ STORY_LIST:
{
  id: 'chapter2',
  label: '–ì–ª–∞–≤–∞ 2',
  title: '–ë–µ–ª—ã–µ –Ω–æ—á–∏',
  description: '–ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ –Ω–æ—á–Ω–æ–º—É –ü–µ—Ç–µ—Ä–±—É—Ä–≥—É...',
  cover: 'üåô',
  locked: false,  // –ø–æ–º–µ–Ω—è–π –Ω–∞ false —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å
}

// –î–æ–±–∞–≤—å –≤ getStoryData:
chapter2: chapter2Story,
```

### 3. –ó–∞–¥–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
npm run build && vercel --prod
```

---

## üé® –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–≤–º–µ—Å—Ç–æ —ç–º–æ–¥–∑–∏)

### –°–ø—Ä–∞–π—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –≤ Midjourney/Stable Diffusion
2. –ü–æ–ª–æ–∂–∏ –≤ `src/assets/characters/alex/`
3. –û–±–Ω–æ–≤–∏ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏:

```javascript
alex: {
  name: '–ê–ª–µ–∫—Å–µ–π',
  color: '#4A90D9',
  sprites: {
    default: '/assets/characters/alex/default.png',
    happy: '/assets/characters/alex/happy.png',
    sad: '/assets/characters/alex/sad.png',
    angry: '/assets/characters/alex/angry.png',
  },
}
```

4. –í `NovelEngine.jsx` –∑–∞–º–µ–Ω–∏ —ç–º–æ–¥–∑–∏ –Ω–∞ `<img>`:
   –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É —Å `fontSize: 80` (—ç–º–æ–¥–∑–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞)
   –∏ –∑–∞–º–µ–Ω–∏ –Ω–∞ `<img src={char.sprites[emotion]} />`

### –§–æ–Ω—ã

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∏–ª–∏ –Ω–∞—Ä–∏—Å—É–π —Ñ–æ–Ω 1080x1920px
2. –ü–æ–ª–æ–∂–∏ –≤ `src/assets/bg/`
3. –û–±–Ω–æ–≤–∏ —Ñ–æ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏:

```javascript
cafe: {
  image: '/assets/bg/cafe.jpg',  // –¥–æ–±–∞–≤—å —ç—Ç—É —Å—Ç—Ä–æ–∫—É
  gradient: '...',                // –æ—Å—Ç–∞–≤—å –∫–∞–∫ —Ñ–æ–ª–ª–±—ç–∫
  label: '–ö–æ—Ñ–µ–π–Ω—è',
}
```

---

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

### Telegram Stars (–≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã–µ –ø–æ–∫—É–ø–∫–∏)

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Telegram Stars –Ω—É–∂–µ–Ω –±—ç–∫–µ–Ω–¥.
–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞:

1. –ò–≥—Ä–æ–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–ö—É–ø–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é ‚ö°"
2. –§—Ä–æ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `WebApp.openInvoice(invoiceUrl)`
3. –ë—ç–∫–µ–Ω–¥ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω–≤–æ–π—Å —á–µ—Ä–µ–∑ Bot API
4. Telegram –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã
5. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Äî –±—ç–∫–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç webhook, –Ω–∞—á–∏—Å–ª—è–µ—Ç —ç–Ω–µ—Ä–≥–∏—é

### –†–µ–∫–ª–∞–º–∞

–ü–æ–¥–∫–ª—é—á–∏ AdsGram –∏–ª–∏ Monetag ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–π rewarded ads
(–ø–æ—Å–º–æ—Ç—Ä–µ–ª —Ä–µ–∫–ª–∞–º—É = –ø–æ–ª—É—á–∏–ª —ç–Ω–µ—Ä–≥–∏—é).

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Telegram SDK

–í—Å—ë —ç—Ç–æ —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –≤ App.jsx, –Ω–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏:

```javascript
WebApp.ready()                    // –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
WebApp.expand()                   // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
WebApp.close()                    // –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
WebApp.BackButton.show()          // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
WebApp.MainButton.setText('...')  // –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É
WebApp.HapticFeedback.impactOccurred('light')  // –í–∏–±—Ä–∞—Ü–∏—è
WebApp.CloudStorage.setItem(k, v) // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ–±–ª–∞–∫–æ
WebApp.CloudStorage.getItem(k, cb) // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –æ–±–ª–∞–∫–∞
WebApp.openTelegramLink(url)      // –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É –≤ Telegram
WebApp.shareToStory(mediaUrl)     // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ Stories
```

---

## ‚ùì FAQ

**–ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ Telegram?**
–î–∞, `npm run dev` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ. SDK-–≤—ã–∑–æ–≤—ã
–æ–±—ë—Ä–Ω—É—Ç—ã –≤ try/catch –∏ –Ω–µ –ª–æ–º–∞—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

**–ù—É–∂–µ–Ω –ª–∏ –±—ç–∫–µ–Ω–¥?**
–î–ª—è –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ ‚Äî –Ω–µ—Ç. CloudStorage —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
–Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö Telegram. –ë—ç–∫–µ–Ω–¥ –Ω—É–∂–µ–Ω –¥–ª—è: –ø–ª–∞—Ç–µ–∂–µ–π Stars,
—Å–µ—Ä–≤–µ—Ä–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ª–∏–¥–µ—Ä–±–æ—Ä–¥–æ–≤ –º–µ–∂–¥—É –∏–≥—Ä–æ–∫–∞–º–∏.

**–ö–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?**
–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ ~150-200KB (–±–µ–∑ –∫–∞—Ä—Ç–∏–Ω–æ–∫). –° –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ ‚Äî
–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, –Ω–æ Telegram –≥—Ä—É–∑–∏—Ç Mini Apps –±—ã—Å—Ç—Ä–æ.

**–ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TypeScript?**
–î–∞, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π —Ñ–∞–π–ª—ã –≤ .tsx –∏ –¥–æ–±–∞–≤—å
`@types/react` –≤ devDependencies.
